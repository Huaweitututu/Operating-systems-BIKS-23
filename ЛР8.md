# Лабораторна робота №8


## Тема: 
Збереження службових даних системи та її мережева конфігурація


## Мета: 


1. Отримання практичних навиків роботи з командною оболонкою Bash.
   
2. Знайомство з базовими структурами для збереження системних даних - процеси, память, лог-файли  та повідомлення про стан ядра.
   
3. Знайомство зі стандартом FHS.
   
4. Знайомство з діями при налаштуванні мережі.
   

## Словник термінів Linux

### Файлові системи та процеси

| Термін             | Опис                                                                 |
|--------------------|----------------------------------------------------------------------|
| **`/proc`**        | Віртуальна ФС з інформацією про процеси та ядро (PID, пам'ять тощо) |
| **`/sys`**         | Віртуальна ФС з даними про обладнання                                |
| **`/var/log`**     | Директорія лог-файлів (`dmesg`, `messages`, `secure` тощо)           |
| **FHS**            | Стандарт структури директорій Linux                                 |
| **Pseudo FS**      | Віртуальні файлові системи (існують лише в пам'яті)                 |

### Керування пам'яттю

| Команда      | Призначення                                      | Параметри                          |
|--------------|--------------------------------------------------|------------------------------------|
| **`free`**   | Перегляд використання ОЗУ                        | `-s N` - оновлення кожні N секунд |
| **`dmesg`**  | Перегляд буфера ядра                             | `\| grep -i текст` - фільтрація   |

### Моніторинг процесів

| Команда      | Призначення                                      |
|--------------|--------------------------------------------------|
| **`top`**    | Інтерактивний моніторинг процесів                |
| **`mount`**  | Підключення ФС                                   |
| **`umount`** | Відключення ФС                                   |

### Логування

| Команда          | Призначення                              |
|------------------|------------------------------------------|
| **`journalctl`** | Перегляд логів systemd (для journald)    |
| **Log rotate**   | Автоматичне архівування старих лог-файлів |

### Мережеві команди

| Команда           | Призначення                                      | Параметри                     |
|-------------------|--------------------------------------------------|-------------------------------|
| **`ifconfig`**    | Конфігурація інтерфейсів (*застаріла*)           |                               |
| **`ip`**          | Універсальне керування мережею                   | `addr show` - адреси інтерфейсів |
| **`ping`**        | Перевірка доступності хоста                      | `-c N` - лише N пакетів       |
| **`ss`**          | Статистика мережевих з'єднань                    | `-t` - TCP з'єднання          |
| **`dig`**         | DNS-запити (`example.com` → IP)                  |                               |
| **`ssh`**         | Віддалений доступ                                | `user@host` - підключення     |

### Мережеві терміни

| Термін      | Опис                                                                 |
|-------------|----------------------------------------------------------------------|
| **IPv4/IPv6** | Версії IP-адрес (`192.168.1.1` / `2001:db8::1`)                     |
| **DHCP**    | Автоматичне призначення IP-адрес                                    |
| **DNS**     | Перетворення доменних імен у IP (`google.com` → `142.250.185.206`)  |
| **NAT**     | Трансляція мережевих адрес (спільний вихід у інтернет)              |
| **TCP/IP**  | Набір мережевих протоколів для передачі даних                       |

### Системні терміни

| Термін          | Опис                                                                 |
|-----------------|----------------------------------------------------------------------|
| **Kernel space**| Захищена область пам'яті для виконання коду ядра                     |
| **User space**  | Область пам'яті для роботи звичайних програм                         |
| **System call** | API для звернення програм до ядра                                    |
| **PID**         | Ідентифікатор процесу (завжди є PID 1 - `systemd`)                  |










# Відповіді на питання 

## 1. Поняття "псевдо файлової системи" та її призначення

**Псевдо файлова система** - це віртуальна файлова система, яка:
- Не зберігається на фізичному носії (диску)
- Існує виключно в оперативній пам'яті під час роботи системи
- Має структуру, подібну до звичайної файлової системи (директорії, файли)
- Динамічно генерує вміст "на льоту" при зверненні

**Призначення:**
- Надання доступу до інформації про ядро та апаратне забезпечення
- Динамічне керування параметрами системи без необхідності перезавантаження
- Уніфікація доступу до системної інформації через стандартний файловий інтерфейс

Приклади: `/proc`, `/sys`, `/dev`

## 2. Робота з каталогом /proc

**Чому користувачі рідко звертаються напряму до /proc?**
- Інформація представлена у незручному для людини форматі (сирі дані)
- Вміст файлів динамічно змінюється
- Існують спеціалізовані утиліти (`top`, `free`, `ps`), які:
  - Агрегують дані з /proc
  - Надають зручне відображення
  - Мають фільтрацію та сортування


## 3. Призначення файлів у /proc

| Файл              | Призначення                                                                 |
|-------------------|-----------------------------------------------------------------------------|
| **/proc/cmdline** | Параметри командного рядка, передані ядру під час завантаження             |
| **/proc/meminfo** | Детальна інформація про використання оперативної пам'яті та свопу          |
| **/proc/modules** | Список завантажених модулів ядра (драйверів) у поточний момент             |

## 4. Призначення команди `free`

**Основні функції:**
- Відображення інформації про використання оперативної пам'яті (ОЗУ) та свопу
- Швидкий аналіз доступної та використаної пам'яті
- Моніторинг витоків пам'яті

## 5. Призначення лог-файлів та приклади використання

**Для чого потрібні:**
- Діагностика помилок та проблем системи
- Моніторинг безпеки та виявлення атак
- Аналіз роботи додатків та служб
- Аудит дій користувачів


## 6. Призначення файлу `/var/log/dmesg`

- Містить **повідомлення ядра під час завантаження**
- Фіксує процес ініціалізації апаратних компонентів
- Зберігає інформацію про:
  - Завантажені драйвери пристроїв
  - Виявлені помилки апаратного забезпечення
  - Параметри ініціалізації ядра
  - Мережеві налаштування



## 7. Призначення FHS (Filesystem Hierarchy Standard)

**Основні цілі:**
1. Уніфікація структури каталогів у Linux-системах
2. Забезпечення сумісності між дистрибутивами
3. Чітке розділення:
   - Статичних файлів (не змінюються під час роботи)
   - Динамічних файлів (логі, тимчасові файли)
   - Спільних ресурсів (доступні по мережі)
   - Локальних ресурсів

**Ключові принципи:**
| Каталог | Призначення                                                                 |
|---------|-----------------------------------------------------------------------------|
| `/bin`  | Основні виконувані файли (доступні всім)                                    |
| `/etc`  | Конфігураційні файли системи                                                |
| `/home` | Домашні каталоги користувачів                                               |
| `/var`  | Змінні дані (лог-файли, кеш)                                               |
| `/usr`  | Другорядні програми та бібліотеки                                           |
| `/tmp`  | Тимчасові файли (автоматично очищаються)                                    |
| `/boot` | Файли завантаження системи (ядра, initramfs)                                |

## 8. Основні мережеві команди Linux

| Команда          | Призначення                                      | Приклад використання         |
|------------------|--------------------------------------------------|------------------------------|
| **`ip`**         | Основний інструмент керування мережею            | `ip addr show`               |
| **`ss`**         | Перегляд активних мережевих з'єднань             | `ss -tuln`                   |
| **`ping`**       | Перевірка доступності хоста                      | `ping -c 4 google.com`       |
| **`traceroute`** | Визначення шляху до хоста                        | `traceroute example.com`     |
| **`dig`**        | DNS-діагностика                                  | `dig +short example.com`     |
| **`host`**       | Пошук IP за іменем                               | `host github.com`            |
| **`nmap`**       | Сканування мережі та портів                      | `nmap -sV 192.168.1.1`       |
| **`ssh`**        | Безпечний віддалений доступ                      | `ssh user@remote-server`     |
| **`iwconfig`**   | Керування бездротовими інтерфейсами              | `iwconfig wlan0`             |
| **`nmcli`**      | Керування мережею через NetworkManager           | `nmcli connection show`      |





## Хід роботи
## 1. Таблиця для опису команд


| Команда     | Призначення та функціонал                                                                 |
|-------------|-------------------------------------------------------------------------------------------|
| `htop`      | Інтерактивний моніторинг процесів (покращена версія `top`)                                |
| `ss`        | Аналіз мережевих сокетів (сучасна заміна `netstat`)                                       |
| `ip`        | Керування мережевими інтерфейсами та маршрутами (заміна `ifconfig`/`route`)               |
| `pgrep`     | Пошук PID процесів за іменем або атрибутами                                               |
| `free`      | Перегляд використання оперативної пам'яті та свопу                                        |
| `uptime`    | Відображення часу роботи системи та середнього навантаження                               |
| `lsof`      | Перелік відкритих файлів та мережевих з'єднань                                            |
| `sysctl`    | Перегляд та зміна параметрів ядра Linux у режимі реального часу                          |
| `dig`       | Детальна діагностика DNS-запитів                                                          |
| `pkill`     | Надсилання сигналів процесам за іменем або атрибутами (розширена версія `killall`)        |
| `jobs`      | Відображення фонових завдань поточної сесії shell                                         |
| `fg %1`     | Переведення фонового завдання з ID 1 на передній план                                     |
| `bg %1`     | Відновлення призупиненого завдання з ID 1 у фоновому режимі                               |
| `kill %3`   | Надсилання сигналу (за замовчуванням `SIGTERM`) до завдання з ID 3                         |
| `ps`        | Відображення інформації про активні процеси                                               |
| `cat`       | Об'єднання та виведення вмісту файлів                                                     |
| `su`        | Зміна користувацького контексту (часто для переходу до `root`)                            |
| `ping`      | Перевірка мережевої доступності хоста за допомогою ICMP-запитів                           |
| `ls /proc`  | Перегляд віртуальної файлової системи з інформацією про систему та процеси               |



# 2. Практичні завдання у терміналs


## 1.Команда cat – призначення

Команда cat (concatenate) використовується для:

- перегляду вмісту файлів;

- створення нових файлів;

- об’єднання (склеювання) кількох файлів;

- перенаправлення вмісту файлу.

## 2. Команда dig – можливості:
Використовується для діагностики DNS:

- Перевірка IP-адрес доменів;

- Отримання записів NS, MX, TXT тощо;

- Тестування роботи DNS-серверів.

## 3. Команда netstat – можливості:

Використовується для аналізу мережевих з’єднань:

- Перегляд відкритих портів;

- Список з’єднань і процесів;

- Таблиця маршрутизації.
- 
![Image](https://github.com/user-attachments/assets/d38a25ec-b73f-4dc2-a7b5-2bed11f6503b)
![Image](https://github.com/user-attachments/assets/4b649020-4499-4b31-b4e5-a751242e16b5)
![Image](https://github.com/user-attachments/assets/5425b14a-e588-4f6d-b02c-3b27489d1d88)
![Image](https://github.com/user-attachments/assets/204e2305-d343-4b80-a941-149ed81716d7)
![Image](https://github.com/user-attachments/assets/b8e8bfd9-1441-4ddf-b854-72db6cfdcdeb)
![Image](https://github.com/user-attachments/assets/041fd9d8-e7e7-4af7-8762-2ac26e785694)
![Image](https://github.com/user-attachments/assets/b27420b4-6ad1-4b53-a1ab-84f1ec58410e)
![Image](https://github.com/user-attachments/assets/2099e444-95c8-4f78-87b8-bd42712208f0)
![Image](https://github.com/user-attachments/assets/0c5327cc-d454-4ee4-8669-28990b0753f0)
![Image](https://github.com/user-attachments/assets/e8ac86c4-cfdb-4fd0-a46c-cef70710d847)
![Image](https://github.com/user-attachments/assets/79623b5c-fcee-471f-a232-ba05c8da5548)


# Відповіді на контрольні запитання
1. Зв'язок між cat та tac

- cat (concatenate): виводить вміст файлу від початку до кінця

- tac (cat навпаки): виводить вміст файлу від кінця до початку (рядки у зворотному порядку)

2. Призначення ss

    ss (Socket Statistics): показує статистику мережевих з'єднань:

- Відкриті порти

- Активні підключення

- Стан сокетів

- Замінник застарілої команди netstat

3. Відмінність ps --forest vs pstree
Команда	Відмінності
ps --forest	Показує дерево процесів тільки для поточної сесії
pstree	Показує повне дерево всіх процесів у системі з ASCII-графікою
4. Каталоги налаштувань системи

    Основні: /etc/

    Додаткові:
- /etc/default/ - налаштування служб
- /etc/sysconfig/ - конфігурація системи (RHEL/CentOS)
- /etc/systemd/ - конфігурація systemd

5. Каталоги програм для користувачів

- /usr/bin/ - основні програми

- /usr/local/bin/ - локально встановлені програми

-  /opt/ - програми сторонніх розробників

6. Каталоги системних програм

- Для всіх користувачів: /usr/sbin/

- Тільки для root: /sbin/

- Системні утиліти: /usr/local/sbin/

7. Призначення мережевих команд
Команда	Призначення
- ping	Перевірка доступності хоста (ICMP-запити)
- ifconfig	Налаштування мережевих інтерфейсів (застаріла, використовуйте ip)
- traceroute	Визначення шляху пакетів до цільового хоста

9. Назви мережевих інтерфейсів
    Традиційні: eth0, eth1 (Ethernet), wlan0 (Wi-Fi)
    Сучасні: enp0s3, ens33 (Predictable Network Interface Names)

10. Вивід параметрів одного інтерфейсу через ifconfig
- ifconfig eth1
або для сучасних систем з ip:
- ip addr show dev eth1


